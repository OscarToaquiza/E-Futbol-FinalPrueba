<div class="container">
    <br>
    <div class="row">
        <div class="col-lg-8">
            <select class="form-control" (change)="onChangeCategoria($event)">
              <option selected>Seleccione la Categoria a la que pertenece</option>
              <option [ngValue]="categoria._id"  *ngFor="let categoria of arrayCategoria">{{categoria.nombre_categoria}}</option>                        
            </select>
        </div>
        <div class="col-lg-4" *ngIf="VerCalendario && segundaVuelta != ''">
            <button class="btn btn-primary" (click)="calendarioVuelta('1')">Vuelta 1</button>
            <button class="btn btn-primary" (click)="calendarioVuelta('2')">Vuelta 2</button>
        </div>
        <div class="col-lg4" *ngIf="segundaVuelta == ''">
            <h3>Calendario de Encuentros</h3>
        </div>
    </div>

    <hr>

    <div class="row jumbotron" *ngIf="!VerCalendario">
        <h1>
            Sección Calendarios
        </h1>
        <h2>
            Seleccione una Categoria para ver los partidos jugados con sus respectivos resultados. Ademas podra ver los proximos partidos
            que se jugarán.
        </h2>
    </div>

    <div class="row jumbotron" *ngIf="VerCalendario">

        <div class="col-12" *ngIf="verVuelta == '1'">
             <div class="row text-center">
                 <div class="col-12">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                 </div>
            </div>   
            <div class="card" *ngFor="let fec of fechaAgrupada | paginate: { itemsPerPage: 1, currentPage: p }" >
                    <div class="card-header">
                            <h2 class="text-center ">Fecha {{p}} </h2>
                        </div>
                    <div class="card-body">
                            <div *ngFor="let item of fec; let k=index">
                                    Partido Número: {{k+1}}
                                    <div class="row" *ngIf="item.id_equipo1 != null && item.id_equipo2 != null">
                                        <div class="col-4 col-sm-4 col-md-2">
                                            <h2 class="centrar">
                                                {{item.id_equipo1.nombre_equipo}}
                                            </h2>
                                        </div>
                                        <div class="d-none d-sm-none col-md-2 d-md-block ">
                                            <img *ngIf="(item.id_equipo1.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/' + (item.id_equipo1.escudo_equipo)}}"
                                                alt="Generic placeholder image" width="140" height="140">
                                            <img *ngIf="!(item.id_equipo1.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/default.png'}}"
                                                alt="Generic placeholder image" width="140" height="140">
                                        </div>
                                        <div class="col-1 col-sm-1 col-md-1">
                                            <h1 class="centrar">
                                                <FONT FACE="arial" SIZE=10>{{item.goles_equipo1.length}}</FONT>
                                            </h1>
                                        </div>
                                        <div class="col-1 col-sm-1 col-md-1">
                                            <h1 class="centrar">
                                                <FONT FACE="arial" SIZE=10>-</FONT>
                                            </h1>
                                        </div>
                                        <div class="col-1 col-sm-1 col-md-1">
                                            <h1 class="centrar">
                                                <FONT FACE="arial" SIZE=10>{{item.goles_equipo2.length}}</FONT>
                                            </h1>
                                        </div>
                                        <div class="d-none d-sm-none col-md-2 d-md-block ">
                                            <img *ngIf="(item.id_equipo2.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/' + (item.id_equipo2.escudo_equipo)}}"
                                                alt="Generic placeholder image" width="140" height="140">
                                            <img *ngIf="!(item.id_equipo2.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/default.png'}}"
                                                alt="Generic placeholder image" width="140" height="140">
                                        </div>
                                        <div class="col-4 col-sm-4 col-md-2">
                                            <h2 class="centrar">
                                                {{item.id_equipo2.nombre_equipo}}
                                            </h2>
                                        </div>
                                        <div class="col-1">
                                            <p *ngIf="(item.estado_fecha)">
                                                Partido Finalizado
                                            </p>
                                            <p *ngIf="!(item.estado_fecha)">
                                                Partido Por Jugar
                                            </p>
                                        </div>
                    <!-- Otra Row -->
                                        <div class="col-4">
                                            <p class="text-right" *ngFor="let gol of (item.goles_equipo1)" >
                                                    {{gol.nombre_personal}} {{gol.apellido_personal}} <i class="fa fa-futbol-o" aria-hidden="true"></i><br>
                                            </p>
                                        </div>
                                        <div class="col-3 text-center">
                                            <p *ngIf="!(item.fecha)">
                                                <strong>Estadio: </strong> No definido <br>
                                                <strong>Fecha: </strong> No definida <br>
                                                <strong>Hora: </strong> --:-- 
                                            </p>
                                            <p *ngIf="(item.fecha)"> 
                                            <strong>Estadio: </strong> <a href="">{{item.id_estadio.nombre_estadio}}</a> <br>
                                            <strong>Fecha: </strong>{{item.fecha | date}} <br>
                                            <strong>Hora: </strong> {{item.hora}}
                                        </p>
                                        </div>
                                        <div class="col-4">
                                                <p *ngFor="let gol of (item.goles_equipo2)" >
                                                        <i class="fa fa-futbol-o" aria-hidden="true"></i>
                                                        {{gol.nombre_personal}} {{gol.apellido_personal}}
                                                        <br>
                                                </p>
                                        </div>
                                    </div>
                                </div>
                    </div>
            </div>


        </div>















        <div class="col-12" *ngIf="verVuelta == '2'">
                <div class="row text-center">
                        <div class="col-12">
                               <pagination-controls (pageChange)="p = $event"></pagination-controls>
                        </div>
                   </div>

            <div class="card" *ngFor="let fec of fechaAgrupadaSegundaVuelta | paginate: { itemsPerPage: 1, currentPage: p }">
                    <div class="card-header">
                            <h2 class="text-center ">Fecha {{p}} </h2>
                        </div>
                <div class="body">
                        <div *ngFor="let item of fec; let j=index">
                                Partido Número: {{j+1}}
                                <div class="row" *ngIf="item.id_equipo1 != null && item.id_equipo2 != null">
                                    <div class="col-2">
                                        <h2 class="centrar">
                                            {{item.id_equipo1.nombre_equipo}}
                                        </h2>
                                    </div>
                                    <div class="col-2">
                                        <img *ngIf="(item.id_equipo1.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/' + (item.id_equipo1.escudo_equipo)}}"
                                            alt="Generic placeholder image" width="140" height="140">
                                        <img *ngIf="!(item.id_equipo1.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/default.png'}}"
                                            alt="Generic placeholder image" width="140" height="140">
                                    </div>
                                    <div class="col-lg-1">
                                        <h1 class="centrar">
                                            <FONT FACE="arial" SIZE=10>{{item.goles_equipo1.length}}</FONT>
                                        </h1>
                                    </div>
                                    <div class="col-1">
                                        <h1 class="centrar">
                                            <FONT FACE="arial" SIZE=10>-</FONT>
                                        </h1>
                                    </div>
                                    <div class="col-1">
                                        <h1 class="centrar">
                                            <FONT FACE="arial" SIZE=10>{{item.goles_equipo2.length}}</FONT>
                                        </h1>
                                    </div>
                                    <div class="col-2">
                                        <img *ngIf="(item.id_equipo2.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/' + (item.id_equipo2.escudo_equipo)}}"
                                            alt="Generic placeholder image" width="140" height="140">
                                        <img *ngIf="!(item.id_equipo2.escudo_equipo)" class="rounded-circle imgcenter" src="{{ url + 'equipo/imagen/default.png'}}"
                                            alt="Generic placeholder image" width="140" height="140">
                                    </div>
                                    <div class="col-2">
                                        <h2 class="centrar">
                                            {{item.id_equipo2.nombre_equipo}}
                                        </h2>
                                    </div>
                                    <div class="col-1">
                                        <p *ngIf="(item.estado_fecha)">
                                            Partido Finalizado
                                        </p>
                                        <p *ngIf="!(item.estado_fecha)">
                                            Partido Por Jugar
                                        </p>
                                    </div>
        
                                    <!-- Otra Row -->
                                <div class="col-4">
                                        <p class="text-right" *ngFor="let gol of (item.goles_equipo1)" >
                                                {{gol.nombre_personal}} {{gol.apellido_personal}} <i class="fa fa-futbol-o" aria-hidden="true"></i><br>
                                        </p>
                                    </div>
                                    <div class="col-3 text-center">
                                        <p *ngIf="!(item.fecha)">
                                            <strong>Fecha: </strong> No definida
                                            <strong>Hora: </strong> --:--
                                            <strong>Estadio: </strong> No definido
                                        </p>
                                        <p *ngIf="(item.fecha)"> 
                                        <strong>Fecha: </strong>{{item.fecha | date}}
                                        <strong>Hora: </strong> {{item.hora}}
                                        <strong>Estadio: </strong> <a href="">{{item.id_estadio.nombre_estadio}}</a>
                                    </p>
                                    </div>
                                    <div class="col-4">
                                            <p *ngFor="let gol of (item.goles_equipo2)" >
                                                    <i class="fa fa-futbol-o" aria-hidden="true"></i>
                                                    {{gol.nombre_personal}} {{gol.apellido_personal}}
                                                    <br>
                                            </p>
                                    </div>
                                </div>
        
                                
                            </div>
                </div>
            </div>

        </div>


    </div>